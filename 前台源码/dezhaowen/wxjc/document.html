<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" />
		<style type="text/css">
			.icon {
				display: inline-block;
				background-position: left center;
				background-size: 30px;
				background-repeat: no-repeat;
			}
			
			a {
				text-decoration: none;
			}
			
			.table-striped>tbody>tr:nth-child(2n+1)>td,
			.table-striped>tbody>tr:nth-child(2n+1)>th {
				background-color: #E7E7E7
			}
			
			.car div {
				padding: 0;
			}
			.changestate
			
			.fontRed {
				color: red;
				margin: 0;
			}
			
			.inputs p input,
			select,
			button {
				margin: 0 25px 0 25px;
			}
			
			.inputs {
				margin-top: 15px;
			}
			
			input[type="date"].form-control {
				line-height: 14px;
			}
			
			.btn-group button:nth-child(1) {
				color: #000000;
			}
			
			#static {
				border-radius: 15px;
				height: 40px;
				width: 70px;
				font-size: 18px;
				color: red;
				border: 3px solid red;
				text-align: center;
				line-height: 30px;
				margin-top: 10px;
			}
		</style>
	</head>

	<body style="height: 100%; margin: 0; padding: 0;">
		<div id="ctx" class="container-fluid" style="background-color: #f7f7f7	;">
			<div class="row">
				<div>
					<div class="col-xs-3">
						<label style="font-size: 28px; font-family: '微软雅黑'; font-weight: normal;">打开单据</label>
					</div>
					<div class="col-xs-7">
						<div id="static">接车</div>
					</div>
					<div class="col-xs-2 form-inline">
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-2">
					<span style="font-size: 18px;">单号：<span class="number">12312312312312312</span></span>
				</div>
				<div class="col-xs-offset-6 col-xs-4 text-center car">
					<div class="col-xs-3">
<<<<<<< HEAD
						<a href="javascript:;" id="addRepair" style="text-indent: 1.5em; font-size: 20px; background-image: url(static/images/接车单.png);" class="icon">接车完成</a>
=======
						<a href="javascript:;" id="addRepair" style="text-indent: 1.5em; font-size: 20px;" class="icon">接车完成</a>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
					</div>
					<!--<div class="col-xs-3">
						<a href="javascript:;" style="text-indent: 1.5em; font-size: 20px; background-image: url(static/images/打印.png);" class="icon">委托书</a>
					</div>
					<div class="col-xs-3">
						<a href="javascript:;" style="text-indent: 1.5em; font-size: 20px; background-image: url(static/images/图片.png);" class="icon">照片</a>
					</div>
					<div class="col-xs-3">
						<a href="javascript:;" style="text-indent: 1.5em; font-size: 20px; background-image: url(static/images/web-b随附单据.png);" class="icon">附单</a>
					</div>-->
				</div>
			</div>
			<div class="row">
				
				<div class="col-xs-12 form-inline inputs">
					<p>
						<input type="hidden" id="clientType" />
						<span class="fontRed">车牌号码</span><input disabled="disabled" v-model="carInfo.carnumber" type="text" class="form-control"> &nbsp;&nbsp;&nbsp;<span class="fontRed">驾驶员</span>
<<<<<<< HEAD
						<input disabled="disabled" v-model="carInfo.carer" type="text" class="form-control"> 车辆型号
						<input v-model="carInfo.carTypeName" disabled="disabled" type="text" class="form-control"> 车辆品牌
						<input v-model="carInfo.carBrandName" disabled="disabled" type="text" class="form-control"> 发动机号
						<input v-model="carInfo.enginenumber" disabled="disabled" type="text" class="form-control"> 
					</p>
					<p>
						发动机品牌
						<input v-model="carInfo.enginebrandname" style="width: 180px;" disabled="disabled" type="text" class="form-control">
=======
						<input disabled="disabled" v-model="carInfo.carer" type="text" class="form-control"> 
						<!--车辆型号]<input v-model="carInfo.carTypeName" disabled="disabled" type="text" class="form-control">--> 
						车辆品牌
						<input v-model="carInfo.carBrandName" disabled="disabled" type="text" class="form-control"> 发动机号
						<input v-model="carInfo.enginenumber" disabled="disabled" type="text" class="form-control"> 
						发动机品牌
						<input v-model="carInfo.enginebrandname" style="width: 180px;" disabled="disabled" type="text" class="form-control">
					</p>
					<p>
						
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						<span class="fontRed">服务顾问</span>
						<select id="fwman" v-model="repair.staffno" class="form-control" style="width: 120px; margin-right:0 ;">
							<option value="">无</option>
						</select>
						<button type="button" class="btn btn-success" style="margin-left: 0;" @click="openStaff">选择顾问</button> <span class="fontRed">车主姓名</span>
						<input v-model="carInfo.name" disabled="disabled" type="text" class="form-control"> &nbsp;&nbsp;&nbsp; 车架号
						<input v-model="carInfo.carnumber1" disabled="disabled" type="text" class="form-control">联系电话
						<input v-model="carInfo.carerphone" disabled="disabled" type="text" class="form-control"> &nbsp;&nbsp;&nbsp;
<<<<<<< HEAD
					</p>
					<p>
=======
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						进厂油量
						<select v-model="repair.oil" class="form-control" style="width: 190px;">
							<option>空</option>
							<option>1/2</option>
							<option>1/3</option>
							<option>2/3</option>
							<option>1/4</option>
							<option>2/4</option>
							<option>3/4</option>
						</select>
<<<<<<< HEAD
=======
					</p>
					<p>
						
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						 进厂里程
						<input v-model="carInfo.mileage" disabled="disabled" type="text" class="form-control">
						<span class="fontRed">业务类别</span>
						<select v-model="repair.type" class="form-control" style="width:210px;">
							<option>中国重汽</option>
							<option>陕汽重卡</option>
							<option>中国一汽</option>
							<option>上汽红岩</option>
							<option>其它重型车</option>
							<option>中轻型车</option>
							<option>其它</option>
						</select> <span class="fontRed">施工班次</span>
						<select v-model="repair.worktime" class="form-control" style="width: 210px;">
							<option>白天</option>
							<option>夜晚</option>
						</select>上次里程<input disabled="disabled" type="text" class="form-control"> 
<<<<<<< HEAD
					</p>
					<p>
						进厂时间
						<input id="nowdate" v-model="carInfo.jjdate"  disabled="disabled" type="datetime" class="form-control" style="width: 190px;"> &nbsp;&nbsp;&nbsp;接车人
						<input v-model="repair.getman" disabled="disabled"  type="text" class="form-control"> &nbsp;&nbsp;&nbsp;预计完工
=======
						进厂时间
						<input id="nowdate" v-model="carInfo.jjdate"  disabled="disabled" type="datetime" class="form-control" style="width: 190px;"> 
					</p>
					<p>
						&nbsp;&nbsp;&nbsp;接车人
						<input v-model="repair.getman" disabled="disabled" type="text" class="form-control"> &nbsp;&nbsp;&nbsp;预计完工
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						<input v-model="repair.overworkdate" type="date" class="form-control" style="width: 200px;">
						<span class="fontRed">结算方式</span>
						<select v-model="repair.setter" class="form-control" style="width: 210px;">
							<option>现结</option>
							<option>挂账</option>
							<option>返修</option>
						</select> <span class="fontRed">预估金额</span>
						<input v-model="repair.price" disabled="disabled" type="text" class="form-control">
<<<<<<< HEAD
					</p>
					<p>
						赔款公司
						<input v-model="repair.company" style="width: 190px;" type="text" class="form-control"> 完工时间
=======
						赔款公司
						<input v-model="repair.company" style="width: 190px;" type="text" class="form-control">
					</p>
					<p>
						 完工时间
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						<input disabled="disabled" type="date" class="form-control" style="width: 200px;"> 上次进厂
						<input disabled="disabled" v-model="carInfo.ordertime" type="date" class="form-control" style="width: 210px;"> &nbsp;&nbsp;&nbsp;接待备注
						<input v-model="repair.remark" type="text" class="form-control">
					</p>
					<p>
						报修陈述&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<textarea class="form-control" v-model="repair.state" style="width: 1604px; height: 111px; resize:none; margin-left:0 ; padding-left:0 ;"></textarea>
					</p>
				</div>
			</div>
			<div class="row navbar navbar-default">
				<div class="col-xs-12" style="padding: 0;">
					<ul class="nav navbar-nav nav-pills" id="cuttab">
						<li class="active">
							<a href="#">维修项目</a>
						</li>
						<li>
							<a href="#">领料情况</a>
						</li>
						<li>
							<a href="#">附加项目</a>
						</li>
						<li>
							<a href="#">结算信息</a>
						</li>
					</ul>
				</div>
				<div class="col-xs-12" style="overflow-y:scroll; height: 673px; padding: 0;">
					<div class="col-xs-12 btns" style="padding: 0;">
						<div class="btn-group">
							<button type="button" class="btn btn-default">维修项目</button>
							<button type="button" class="btn btn-default" @click="openMaintenanceItems">单个增加</button>
<<<<<<< HEAD
							<button id="adds" type="button" class="btn btn-default">多个增加</button>
=======
							<!--<button id="adds" type="button" class="btn btn-default">多个增加</button>-->
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							<button @click="update" type="button" class="btn btn-default">修改</button>
							<button @click="delete1" type="button" class="btn btn-default">删除</button>
						</div>
						<div class="btn-group" style="display: none;">
							<button type="button" class="btn btn-default">领料情况</button>
<<<<<<< HEAD
							<button type="button" class="btn btn-default" @click="materialRequirement">物料需求</button>
							<button type="button" class="btn btn-default" @click="receiveMaterial">领料</button>
							<button type="button" class="btn btn-default" @click="resetPrice">重置价格</button>
							<button type="button" class="btn btn-default">库房领料</button>
=======
							<!--<button type="button" class="btn btn-default" @click="materialRequirement">物料需求</button>-->
							<button type="button" class="btn btn-default" @click="receiveMaterial">领料</button>
							<button type="button" class="btn btn-default" @click="resetPrice">重置价格</button>
							<!--<button type="button" class="btn btn-default">库房领料</button>-->
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						</div>
						<div class="btn-group" style="display: none;">
							<button type="button" class="btn btn-default">附加项目</button>
							<button type="button" class="btn btn-default" @click="appendItems">增加</button>
							<button type="button" class="btn btn-default" @click="updateewitem">修改</button>
							<button type="button" class="btn btn-default" @click="deleteewitem">删除</button>
						</div>
					</div>
					<table id="table1" class="table table-striped table-bordered">
						<tr>
							<th>选择</th>
							<th>项目编码</th>
							<th>项目名称</th>
							<th>数量</th>
							<th>价类</th>
							<th>优惠前单价</th>
							<th>优惠后单价</th>
							<th>优惠后金额</th>
							<th>故障描述</th>
							<th>故障原因</th>
							<th>维修班组</th>
							<th>服务顾问</th>
							<th>工单号</th>
							<th>免单原因</th
						</tr>
						<tr v-for="item in itemRepair">
							<td><input v-model="checkArray" :value="item.id" type="checkbox" /></td>
<<<<<<< HEAD
							<td>{{item.id}}</td>
							<td>{{item.itemsname}}</td>
=======
							<td>{{item.wid}}</td>
							<td>{{item.wname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							<td>{{item.count}}</td>
							<td>{{item.priceType}}</td>
							<td>{{item.qprice}}</td>
							<td>{{item.hprice}}</td>
							<td>{{item.hprice*item.count}}</td>
							<td>{{item.gzinfo}}</td>
							<td>{{item.gzresult}}</td>
							<td>{{item.bzname}}</td>
							<td>{{item.fwman}}</td>
							<td>{{item.gdnumber}}</td>
							<td>{{item.mdresult}}</td>
						</tr>
					
						
					</table>
					<table id="table2" class="table table-striped table-bordered">
						<tr>
							<th>类别</th>
							<th>物料编号</th>
							<th>物料名称</th>
							<th>单位</th>
							<th>价类</th>
							<th>数量</th>
							<th>优惠前单价</th>
							<th>优惠后单价</th>
							<th>优惠后金额</th>
							<th>免单原因</th>
							
						</tr>
						<tr v-for="item in allCommodity">
							<td>{{item.type}}</td>
<<<<<<< HEAD
							<td>{{item.commodityno}}</td>
							<td>{{item.name}}</td>
=======
							<td>{{item.goodnum}}</td>
							<td>{{item.goodname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							<td>{{item.unit}}</td>
							<td>{{item.priceType}}</td>
							<td>{{item.count}}</td>
							<td>{{item.qprice}}</td>
							<td>{{item.discountsPrice}}</td>
							<td>{{item.discountsPrice*item.count}}</td>
							<td>{{item.cause}}</td>
						</tr>

					</table>
					<table id="table3" class="table table-striped table-bordered">
						<tr>
							<th>选择</th>
							<th>附加项目</th>
							<th>价类</th>
							<th>应收金额</th>
							<th>备注</th>
						</tr>
						<tr v-for="item in allewitems">
							<td><input type="checkbox"></td>
							<td>{{item.name}}</td>
							<td>{{item.priceType}}</td>
							<td>{{item.price}}</td>
							<td>{{item.remark}}</td>
						</tr>

						
					</table>
					<table id="table4" class="table table-striped table-bordered">
						<tr>
							<th>结算状态</th>
							<th>优惠前金额</th>
							<th>合计金额</th>
							<th>材料费</th>
							<th>工时费</th>
							<th>附加费</th>
							<th>结算时间</th>
							<th>结算人</th>
							<th>支付方式</th>
							<th>支付金额</th>
							<th>挂账金额</th>
							<th>到账亏盈</th>
							<th>发票种类</th>
							<th>发票号</th>
							<th>发票金额</th>
						</tr>
						<tr>
							<td>{{jsInfo.sta}}</td>
							<td>{{jsInfo.qprice}}</td>
							<td>{{jsInfo.hprice}}</td>
							<td>{{jsInfo.clprice}}</td>
							<td>{{jsInfo.gsprice}}</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td>0</td>
							<td></td>
						</tr>

						
					</table>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="maintenanceItems">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">维修项目</h4>
						</div>
						<div class="modal-body form-inline">
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>维修项目</label>
<<<<<<< HEAD
								<input v-model="item.itemsname" disabled="disabled" type="text" class="form-control"><button  class="btn btn-success chooseItem">选择项目</button>
=======
								<input v-model="item.wname" disabled="disabled" type="text" class="form-control"><button  class="btn btn-success chooseItem">选择项目</button>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>价类</label>
								<select style="width: 150px;" v-model="item.priceType" id="priceType"  class="form-control">
									<option selected="selected" value="自费" >自费</option>
									<option value="免单">免单</option>
									<option value="保修">保修</option>
									<option value="索赔">索赔</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>服务顾问</label>
								<input v-model="item.fwman" id="fwPeople" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>数量</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<input v-model="item.count" style="width: 150px;" id="count" type="text" class="form-control">
							</div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>优惠前单价</label>
								<input v-model="item.qprice" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>优惠后价</label>
								<input v-model="item.hprice" style="width: 150px;" id="hprice" type="text" class="form-control">
							</div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>维修班组</label>
<<<<<<< HEAD
								<input style="width: 130px;" v-model="item.bzname" id="bz" :bzid="item.bzid" type="text" class="form-control">
=======
								<input style="width: 130px;" disabled="disabled" v-model="item.bzname" id="bz" :bzid="item.bzid" type="text" class="form-control">
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								
								<button type="button" class="btn btn-success chosebz" style="margin-left: 0;">选择班组</button>
							</div>
							<div class="form-group">
								<label class="control-label">免单原因</label>
								<select id="mdresult" style="width: 130px;" class="form-control" disabled="disabled">
									<option></option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">故障原因</label>
								<input v-model="item.gzresult" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">故障描述</label>
								<input v-model="item.gzinfo" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">工单号</label>
								<input v-model="item.gdnumber" type="text" class="form-control">
							</div>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary itemkeep">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="updatemaintenanceItems">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">修改维修项目</h4>
						</div>
						<div class="modal-body form-inline">
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>维修项目</label>
<<<<<<< HEAD
								<input v-model="item.itemsname" disabled="disabled" type="text" class="form-control"><button  class="btn btn-success chooseItem">选择项目</button>
=======
								<input v-model="item.wname" disabled="disabled" type="text" class="form-control"><button  class="btn btn-success chooseItem">选择项目</button>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>价类</label>
								<select id="updatepriceType" style="width: 150px;" v-model="item.priceType"  class="form-control">
									<option selected="selected" value="自费" >自费</option>
									<option value="免单">免单</option>
									<option value="保修">保修</option>
									<option value="索赔">索赔</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>服务顾问</label>
								<input v-model="item.fwman" id="updatefwPeople" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>数量</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<input v-model="item.count" style="width: 140px;" id="updatecount" type="text" class="form-control">
							</div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>优惠前单价</label>
								<input v-model="item.qprice" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>优惠后价</label>
								<input v-model="item.hprice" style="width: 150px;" id="updatehprice" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>维修班组</label>
								<input v-model="item.bzname" style="width: 150px;" id="updatebz" :bzid="item.bzid" type="text" class="form-control">
								<button type="button" class="btn btn-success chosebz" style="margin-left: 0;" >选择班组</button>

							</div>
							<div class="form-group">
								<label class="control-label">免单原因</label>
								<select id="updatemdresult" class="form-control" disabled="disabled">
									<option></option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">故障原因</label>
								<input v-model="item.gzresult" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">故障描述</label>
								<input v-model="item.gzinfo" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">工单号</label>
								<input v-model="item.gdnumber" type="text" class="form-control">
							</div>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary itemkeep">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="materialRequirement">
				<div class="modal-dialog" role="document" style="width: 1000px;">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">需求</h4>
						</div>
						<div class="modal-body form-inline">
							<div class="col-xs-5">
								<span>单号：<span class="number"></span></span>
							</div>
							<div class="col-xs-offset-1 col-xs-6 text-center car">
								<div class="col-xs-offset-6 col-xs-2">
<<<<<<< HEAD
									<a id="addCommodity" href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  background-image: url(static/images/增加.png);">增加</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="deleteCommodity" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  background-image: url(static/images/删除.png);">删除</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/打印.png);">打印</a>
=======
									<a id="addCommodity" href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center; ">增加</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="deleteCommodity" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center; ">删除</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center; ">打印</a>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								</div>
							</div>
							<div class="form-group">
								<label class="control-label">商品编码</label>
<<<<<<< HEAD
								<input disabled="disabled" v-model="commodity.commodityno" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">商品名称</label>
								<input disabled="disabled" v-model="commodity.name"  type="text" class="form-control">
=======
								<input disabled="disabled" v-model="commodity.goodnum" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">商品名称</label>
								<input disabled="disabled" v-model="commodity.goodname"  type="text" class="form-control">
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							</div>
							<div class="form-group">
								<label class="control-label">商品品牌</label>
								<input disabled="disabled" v-model="commodity.brand" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">适用车型</label>
								<input v-model="commodity.cartype" disabled="disabled" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">单位</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
								<input v-model="commodity.unit" disabled="disabled" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">价类</label>
								<select v-model="commodity.priceType" style="width: 100px;" id="wlpriceType" class="form-control">
									<option selected="selected" value="自费" >自费</option>
									<option value="免单">免单</option>
									<option value="保修">保修</option>
									<option value="索赔">索赔</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">仓库</label>
								<select id="ck" v-model="commodity.warehouse" class="form-control">
									<option value="配件仓">配件仓</option>
									<option value="装具仓">装具仓</option>
									<option value="精品仓">精品仓</option>
									<option value="旧件仓">旧件仓</option>
									<option value="重汽旧件仓">重汽旧件仓</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">免单原因</label>
								<select id="cause" style="width: 200px; margin-left: 5px;" disabled="disabled" v-model="commodity.cause" class="form-control">

								</select>
							</div>
							<div class="form-group">
								<label class="control-label">优惠前单价</label>
								<input v-model="commodity.qprice" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">优惠后单价</label>
								<input v-model="commodity.discountsPrice" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">需求数量</label>
								<input v-model="commodity.count" type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">对应项目</label>
								<select id="xm" v-model="commodity.item"  class="form-control">
								<option v-for="i in itemRepair">{{i.itemsname}}</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">可用库存</label>
								<input disabled="disabled" value="0" type="text" class="form-control">
							</div>
							<table class="table table-hover">
								<tr>
									<th>选择</th>
									<th>类别</th>
									<th>物料编码</th>
									<th>物料名称</th>
									<th>需求数量</th>
									<th>价类</th>
									<th>优惠前价格</th>
									<th>优惠后价格</th>
									<th>优惠后金额</th>
									<th>领料仓库</th>
									<th>对应项目</th>
								</tr>
								<tr @dblclick="changeCommodity(item.commodityno)" v-for="item in allCommodity" v-if="item.type=='需求'">
									<td><input type="checkbox"></td>
									<td>{{item.type}}</td>
<<<<<<< HEAD
									<td>{{item.commodityno}}</td>
									<td>{{item.name}}</td>
=======
									<td>{{item.goodnum}}</td>
									<td>{{item.goodname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
									<td>{{item.count}}</td>
									<td>{{item.pricetype}}</td>
									<td>{{item.qprice}}</td>
									<td>{{item.discountsPrice}}</td>
									<td>{{item.count*item.discountsPrice}}</td>
<<<<<<< HEAD
									
=======
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
									<td>{{item.warehouse}}</td>
									<td>{{item.item}}</td>
								</tr>
							</table>
						</div>
						<div class="modal-footer">
							<button id="keppCommodity" type="button" class="btn btn-primary">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="receiveMaterial">
				<div class="modal-dialog" role="document" style="width: 1000px;">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">领料</h4>
						</div>
						<div class="modal-body form-inline">
							<div class="col-xs-5">
								<span>单号：<span class="number">12312312312312312</span></span>
							</div>
							<div class="col-xs-offset-1 col-xs-6 text-center car">
								<div class="col-xs-2">
<<<<<<< HEAD
									<a href="javascript:;" id="wladd" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  background-image: url(static/images/增加.png);">增加</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="deleteall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  background-image: url(static/images/删除.png);">删除</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="choseall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/选择.png);">全部选择</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="cancelall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/取消.png);">全部取消</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/设置.png);">设置</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/打印.png);">打印</a>
=======
									<a href="javascript:;" id="wladd" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center; ">增加</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="deleteall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;">删除</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="choseall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  ">全部选择</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" @click="cancelall" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center; ">全部取消</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   ">设置</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  ">打印</a>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								</div>
							</div>
							<table class="table">
								<tr>
									<th>选择</th>
									<th>类别</th>
									<th>物料编码</th>
									<th>物料名称</th>
									<th>需求数量</th>
									<th>价类</th>
									<th>优惠前价格</th>
									<th>优惠后价格</th>
									<th>优惠后金额</th>
									<th>领料仓库</th>
									<th>对应项目</th>
								</tr>
<<<<<<< HEAD
								<tr @dblclick="changeCommodity(item.commodityno)" v-for="item in allCommodity" v-if="item.type=='领料'">
									<td><input v-model="arrayList" :value="item.commodityno" type="checkbox"></td>
									<td>{{item.type}}</td>
									<td>{{item.commodityno}}</td>
									<td>{{item.name}}</td>
=======
								<tr @dblclick="changeCommodity(item.gooddataid)" v-for="item in allCommodity" v-if="item.type=='领料'">
									<td><input v-model="arrayList" :value="item.commodityno" type="checkbox"></td>
									<td>{{item.type}}</td>
									<td>{{item.goodnum}}</td>
									<td>{{item.goodname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
									<td>{{item.count}}</td>
									<td>{{item.pricetype}}</td>
									<td>{{item.qprice}}</td>
									<td>{{item.discountsPrice}}</td>
									<td>{{item.count*item.discountsPrice}}</td>
									
<<<<<<< HEAD
									<td>{{item.warehouse}}</td>
									<td>{{item.item}}</td>
=======
									<td>{{item.goodaddressid}}</td>
									<td>{{item.fitcartype}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								</tr>
							</table>
						</div>
						<div class="modal-footer">
							<button id="llkeep" type="button" class="btn btn-primary">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="resetPrice">
				<div class="modal-dialog" role="document" style="width: 1000px;">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">重置价格</h4>
						</div>
						<div class="modal-body form-inline">
							<div class="col-xs-5">
								<span>单号：<span class="number">12312312312312312</span></span>
							</div>
							<div class="col-xs-offset-1 col-xs-6 text-center car">
								<div class="col-xs-offset-6 col-xs-2">
<<<<<<< HEAD
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/选择.png);">全部选择</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/取消.png);">全部取消</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   background-image: url(static/images/设置.png);">设置</a>
=======
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   ">全部选择</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;   ">全部取消</a>
								</div>
								<div class="col-xs-2">
									<a href="javascript:;" style="display: inline-block; text-indent: 1em; background-size: 10px; background-repeat: no-repeat; background-position: left center;  ">设置</a>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								</div>
							</div>
							<div class="form-group">
								<label class="control-label">商品编码</label>
								<input type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">商品名称</label>
								<input type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">价类</label>
								<select class="form-control">
									<option>自费</option>
									<option>免单</option>
									<option>保修</option>
									<option>索赔</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">免单原因</label>
								<input type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">优惠前单价</label>
								<input type="text" class="form-control">
							</div>
							<div class="form-group">
								<label class="control-label">优惠后单价</label>
								<input type="text" class="form-control">
							</div>
							<span>服务顾问</span>
							<select class="form-control" style="width: 78px; margin-right:0 ;">
								<option>无</option>
							</select>
							<button type="button" class="btn btn-success" style="margin-left: 0;" @click="openStaff">选择顾问</button>
							<table class="table">
								<tr>
									<th>选择</th>
									<th>类别</th>
									<th>物料编码</th>
									<th>物料名称</th>
									<th>需求数量</th>
									<th>价类</th>
									<th>优惠前价格</th>
									<th>优惠后价格</th>
									<th>优惠后金额</th>
									<th>领料仓库</th>
									<th>对应项目</th>
								</tr>
								<tr>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
								</tr>
							</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="appendItems">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">附加项目</h4>
						</div>
						<div class="modal-body form-horizontal">
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>项目名称</label>
								<select v-model="ewitems.name"  class="form-control" style="margin: 0;">
									<option value="燃油费">燃油费</option>
									<option value="施救费">施救费</option>
									<option value="辅料费">辅料费</option>
									<option value="包工料">包工料</option>
									<option value="加油费">加油费</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label">价类</label>
								<select v-model="ewitems.priceType" class="form-control" id="changeewitem" style="margin: 0;">
									<option value="自费" selected="selected" >自费</option>
									<option value="免单">免单</option>
									<option value="保修">保修</option>
									<option value="索赔">索赔</option>
								</select>
							</div>
							<div class="form-group">
								<label class="control-label"><span class="fontRed">★</span>金额</label>
								<input v-model="ewitems.price" id="ewprice" type="text" class="form-control" />
							</div>
							<div class="form-group">
								<label class="control-label">备注</label>
								<input v-model="ewitems.remark" type="text" class="form-control" />
							</div>
						</div>
						<div class="modal-footer">
							<button id="keepewitems" type="button" class="btn btn-primary">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpage">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择顾问</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>员工编号</th>
								<th>员工姓名</th>
								
							</tr>
							<tr v-for="item in allstaff">
								<td><input name="cc" type="radio"></td>
<<<<<<< HEAD
								<td>{{item.staffno}}</td>
								<td>{{item.name}}</td>
=======
								<td>{{item.yid}}</td>
								<td>{{item.yname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpage">保存</button>
						</div>
					</div>
				</div>
			</div>	
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpagebz">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择班组</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>班组编号</th>
								<th>班组名称</th>
								
							</tr>
							<tr v-for="item in artisan">
								<td><input name="cc" type="radio"></td>
<<<<<<< HEAD
								<td>{{item.id}}</td>
								<td>{{item.artisanclassname}}</td>
=======
								<td>{{item.teamid}}</td>
								<td>{{item.teamname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpagebz">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpagewx">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择维修项目</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>项目编号</th>
								<th>项目名称</th>
								
							</tr>
							<tr v-for="item in mainten">
								<td><input name="cc"  type="radio"></td>
<<<<<<< HEAD
								<td>{{item.id}}</td>
								<td>{{item.itemsname}}</td>
=======
								<td>{{item.wid}}</td>
								<td>{{item.wname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpagewx">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpagewxs">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择维修项目</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>项目编号</th>
								<th>项目名称</th>
								
							</tr>
							<tr v-for="item in mainten">
								<td><input  type="checkbox"></td>
<<<<<<< HEAD
								<td>{{item.id}}</td>
								<td>{{item.itemsname}}</td>
=======
								<td>{{item.wid}}</td>
								<td>{{item.wname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpagewxs">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpagexq">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择商品</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>商品编号</th>
								<th>商品名称</th>
								
							</tr>
							<tr v-for="item in commoditys">
								<td><input  type="checkbox"></td>
<<<<<<< HEAD
								<td>{{item.commodityno}}</td>
								<td>{{item.name}}</td>
=======
								<td>{{item.gooddataid}}</td>
								<td>{{item.goodname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpagexq">保存</button>
						</div>
					</div>
				</div>
			</div>
			<div class="modal fade" tabindex="-1" role="dialog" id="otherpagell">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							<h4 class="modal-title">选择商品</h4>
						</div>
						<div class="modal-body form-inline">
						<table class="table table-hover">
							<tr>
								<th>选择</th>
								<th>商品编号</th>
								<th>商品名称</th>
								
							</tr>
							<tr v-for="item in commoditys">
								<td><input  type="checkbox"></td>
<<<<<<< HEAD
								<td>{{item.commodityno}}</td>
								<td>{{item.name}}</td>
=======
								<td>{{item.gooddataid}}</td>
								<td>{{item.goodname}}</td>
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							</tr>							
						</table>
						</div>
						<div class="modal-footer">
							<button  type="button" class="btn btn-primary otherpagell">保存</button>
						</div>
					</div>
				</div>
			</div>				
		</div>
		<script type="text/javascript" src="static/js/jquery-1.12.4.js" ></script>
		<script src="static/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="static/js/vue-2.6.js" ></script>
		<script src="static/js/Myip.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			Vue.component("mybtn", {
				props: ["btns"],
				template: `
				<div class="col-xs-12" style="padding: 0;" v-if="btns">
					<div class="btn-group">
						<button type="button" class="btn btn-default" v-for="i in btns" v-if="i">{{i}}</button>
					</div>
				</div>
				`
			});

			var vm = new Vue({
				el: "#ctx",
				data() {
					return {
						head: ["选择", "项目编码", "项目名称", "数量", "价类", "优惠前单价", "优惠后单价", "优惠后金额", "故障描述", "故障原因", "维修班组", "作业人员", "服务顾问", "工单号", "免单原因"],
						list: [],
						carInfo:{},
						item:{},
						itemRepair:[],
						checkArray:[],
						ewitems:{},
						allewitems:[],
						commodity:{},
						allCommodity:[],
						jsInfo:{sta:"",qprice:0.0,hprice:0.0,gsprice:0.0,clprice:0.0},
						arrayList:[],
						repair:{number:""},
						allstaff:[],
						artisan:[],
						mainten:[],
						commoditys:[]
					}
				},
				created:function(){
						 var ss=decodeURI(location.search);
				 	     var carNumber=ss.substring(ss.indexOf("=")+1,ss.indexOf("&"))
				 	     var clientType=ss.substring(ss.lastIndexOf("=")+1,ss.length);
				 	     console.log(carNumber)
				 	     console.log(clientType)
				 	     $("#clientType").val(clientType);
				 	     $.ajax({
				 	     	type:"post",
				 	     	url:data.ip+"repair/selectCarInfo",
				 	     	async:true,
				 	     	data:{
				 	     		carNumber:carNumber
				 	     	},
				 	     	xhrFields: {
							withCredentials:true
							},
				 	     	dataType:"json",
				 	     	success:function(result){
<<<<<<< HEAD
				 	     		console.log("11"+result)
=======
				 	     		console.log(result)
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
				 	     		vm.carInfo=result
				 	     		var now=new Date();
				 	     		var year = now.getFullYear();
							    var month =(now.getMonth() + 1).toString();
							    var day = (now.getDate()).toString();
							    var hour = (now.getHours()).toString();
							    var minute = (now.getMinutes()).toString();
							    var second = (now.getSeconds()).toString();
							    if (month.length == 1) {
							        month = "0" + month;
							    }
							    if (day.length == 1) {
							        day = "0" + day;
							    }
							    if (hour.length == 1) {
							    	hour = "0" + hour;
							    }
							    if (minute.length == 1) {
							    	minute = "0" + minute;
							    }
							    if (second.length == 1) {
							    	second = "0" + second;
							    }
							      var nowdate=""+year+"-"+month+"-"+day+""
							      
							    
							      console.log(nowdate)
<<<<<<< HEAD
=======
							      		vm.repair.getman="超级管理员"
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						 	     		vm.carInfo.jjdate=nowdate
						 	     		vm.carInfo=JSON.parse(JSON.stringify(vm.carInfo))
						 	     	}
						 	     });
					}
					
				
				,
				methods: {
					openStaff() {
					$.ajax({
						type:"post",
						url:data.ip+"repair/selectAllStaff",
						async:true,
						dateType:"json",
						success:function(result){
							vm.allstaff=result
						
						}
					});	
					$("#otherpage").modal("show");

						
					},
					openMaintenanceItems() {
						$("#maintenanceItems").modal("show");
					},
					materialRequirement() {
						$("#materialRequirement").modal("show");
					},
					receiveMaterial() {
						$("#receiveMaterial").modal("show");
					},
					resetPrice(){
						$("#resetPrice").modal("show");
					},
					appendItems(){
						$("#appendItems").modal("show");
					},
					delete1(){
						for (var i=0;i<vm.itemRepair.length;i++) {
							for (var j=0;j<vm.checkArray.length;j++) {
								if(vm.itemRepair[i].id==vm.checkArray[j]){
									vm.itemRepair.splice(i,1)
								}
							}
						}
						this.getsume();
					},
					getsume(){
						var count=0;
			    	var sum=0.0;
			    	for (var i=0;i<vm.itemRepair.length;i++) {
			    		
			    		count+=vm.itemRepair[i].count;
			    		console.log(vm.itemRepair[i].count)
			    		sum+=vm.itemRepair[i].count*vm.itemRepair[i].hprice;
			    	}
			    	
			    	$("#sumcount").html(count)
			    	$("#sumprice").html(sum)
					},
					update(){
						$("#updatemaintenanceItems").modal("show")
						for (var i=0;i<vm.itemRepair.length;i++) {
							for (var j=0;j<vm.checkArray.length;j++) {
								if(vm.itemRepair[i].id==vm.checkArray[j]){
									vm.item=vm.itemRepair[i]
									return;
								}
							}
						}
						this.getsume();
					},
					updateewitem(){
							
							$("#table3 tr:not(:first)").each(function(obj,index){
								var che=$(this).find("td:first input")[0]
								
									console.log($(this).find("td:first input")[0].checked)
								if($(this).find("td:first input")[0].checked==true){
									console.log(index)
									vm.ewitems=vm.allewitems[obj]
									vm.ewitems.isupdate=1
								}
							})
							$("#appendItems").modal("show")
					},
					deleteewitem(){
						$("#table3 tr:not(:first)").each(function(obj,index){
								var che=$(this).find("td:first input")[0]
								
									console.log($(this).find("td:first input")[0].checked)
								if($(this).find("td:first input")[0].checked==true){
									
									vm.ewitems=vm.allewitems.splice(obj,1)
									
								}
							})
							
					},
					changeCommodity(id){
						console.log(id)
						for(var i=0;i<vm.allCommodity.length;i++){
							if(vm.allCommodity[i].type=="需求"&&vm.allCommodity[i].commodityno==id){
							
								vm.commodity=vm.allCommodity[i]
								vm.allCommodity[i]=vm.commodity
							}
						}
					},
					deleteCommodity(){
						
								$("#materialRequirement table tr:not(:first)").each(function(obj,index){
								var che=$(this).find("td:first input")[0]
								
									console.log($(this).find("td:first input")[0].checked)
								if($(this).find("td:first input")[0].checked==true){
									
									vm.allCommodity.splice(obj,1)
									vm.commodity=vm.allCommodity[0]
							
								}
							})
					},
					deleteall(){
						for(var i=0;i<this.allCommodity.length;i++){
							for(var j=0;j<this.arrayList.length;j++){
							if(this.allCommodity[i].type=="领料"&&this.allCommodity[i].commodityno==this.arrayList[j]){
								this.allCommodity.splice(i,1)
							}
							}
						}
					},
					choseall(){
						var size=0;
						for(var i=0;i<this.allCommodity.length;i++){
							if(this.allCommodity[i].type=="领料"){
								this.arrayList.push(this.allCommodity[i].commodityno)
							}
						}

							
					},
					cancelall(){
						this.arrayList=[]	
					}
				}
			});
			$(function() {
				
			    function getsum(){
			    	var count=0;
			    	var sum=0.0;
			    	for (var i=0;i<vm.itemRepair.length;i++) {
			    		
			    		count+=vm.itemRepair[i].count;
			    		console.log(vm.itemRepair[i].count)
			    		sum+=vm.itemRepair[i].count*vm.itemRepair[i].hprice;
			    	}
			    	
			    	$("#sumcount").html(count)
			    	$("#sumprice").html(sum)
			    	
			    }
				function dateToString(now){
					    var year = now.getFullYear();
					    var month =(now.getMonth() + 1).toString();
					    var day = (now.getDate()).toString();
					    var hour = (now.getHours()).toString();
					    var minute = (now.getMinutes()).toString();
					    var second = (now.getSeconds()).toString();
					    if (month.length == 1) {
					        month = "0" + month;
					    }
					    if (day.length == 1) {
					        day = "0" + day;
					    }
					    if (hour.length == 1) {
					    	hour = "0" + hour;
					    }
					    if (minute.length == 1) {
					    	minute = "0" + minute;
					    }
					    if (second.length == 1) {
					    	second = "0" + second;
					    }
					      var nowdate=year+"/"+month+"/"+day
					     
					      
					      
<<<<<<< HEAD
					     var dateTime ="WGQ"+year + month+ day+ hour+minute+second;
=======
					     var dateTime ="WZL"+year + month+ day+ hour+minute+second;
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
					     return dateTime;
					  }

				var myDate = new Date();
				 var number=dateToString(myDate)
				 $(".number").html(number)
							$("#table1").show()
							$("#table2").hide()
							$("#table3").hide()
							$("#table4").hide()	
					
				$("#cuttab li").click(function() {
					var txt = $(this).find("a").html();
					$(this).addClass("active").siblings().removeClass("active");
					var data;
					var btn;
					if(txt == "附加项目") {
						$("#table1").hide()
							$("#table2").hide()
							$("#table3").show()
							$("#table4").hide()	
						$(".btns div:eq(2)").show().siblings().hide();
					} else if(txt == "维修项目") {
							$("#table1").show()
							$("#table2").hide()
							$("#table3").hide()
							$("#table4").hide()						
						data = ["选择", "项目编码", "项目名称", "数量", "价类", "优惠前单价", "优惠后单价", "优惠后金额", "故障描述", "故障原因", "维修班组", "作业人员", "服务顾问", "工单号", "免单原因"];
						$(".btns div:eq(0)").show().siblings().hide();
					} else if(txt == "领料情况") {
							$("#table1").hide()
							$("#table2").show()
							$("#table3").hide()
							$("#table4").hide()	
						data = ["选择", "类别", "领料时间", "领料人", "物料编码", "物料名称", "单位", "价类", "数量", "优惠前单价", "优惠后单价", "优惠后金额", "服务顾问", "免单原因"];
						$(".btns div:eq(1)").show().siblings().hide();
					} else {
							$("#table1").hide()
							$("#table2").hide()
							$("#table3").hide()
							$("#table4").show()	
						data = ["选择", "结算状态", "优惠后金额", "合计金额", "材料费", "工时费", "附加费", "结算时间", "结算人", "支付方式", "支付金额", "挂账金额", "到账亏盈", "发票种类", "发票号", "发票金额"];
						$(".btns div").hide();
						js();
						
						
					}
					vm.head = data;
				});
				function js(){
											vm.jsInfo={sta:"",qprice:0.0,hprice:0.0,gsprice:0.0,clprice:0.0}
						vm.jsInfo.sta="预估金额"
						for (var i=0;i<vm.itemRepair.length;i++) {
							vm.jsInfo.qprice+=vm.itemRepair[i].qprice*vm.itemRepair[i].count
							
						}
					
						for (var i=0;i<vm.allCommodity.length;i++) {
							if(vm.allCommodity[i].type=="领料"){
							vm.jsInfo.qprice+=vm.allCommodity[i].qprice*vm.allCommodity[i].count
							}
						}
					
						for (var i=0;i<vm.allewitems.length;i++) {
							vm.jsInfo.qprice=parseFloat(vm.jsInfo.qprice)+parseFloat(vm.allewitems[i].price)
						}
					
						

						
						for (var i=0;i<vm.itemRepair.length;i++) {
							vm.jsInfo.hprice+=vm.itemRepair[i].hprice*vm.itemRepair[i].count
							vm.jsInfo.gsprice+=vm.itemRepair[i].hprice*vm.itemRepair[i].count
						}
						for (var i=0;i<vm.allCommodity.length;i++) {
							if(vm.allCommodity[i].type=="领料"){
							vm.jsInfo.hprice+=vm.allCommodity[i].discountsPrice*vm.allCommodity[i].count
							vm.jsInfo.clprice+=vm.allCommodity[i].discountsPrice*vm.allCommodity[i].count
							}
						}
				}
				$(".chooseItem").click(function(){
						$.ajax({
						type:"post",
						url:data.ip+"repair/selectAllItem",
						async:true,
						dataType:"json",
						success:function(result){
							vm.mainten=result;
							
						}
					});					
					$("#otherpagewx").modal("show")
				})
				$(".otherpagewx").click(function(){
					var id=0;
					
					$("#otherpagewx tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							id=$(this).find("td:eq(1)").html();
							
						}
					})
					
						$.ajax({
						type:"post",
						url:data.ip+"repair/selectById",
						async:true,
						data:{
							id:id
						},
						dataType:"json",
						success:function(result){
							vm.item=result
							vm.item.fwman=vm.repair.staffname
							changeitem();
							
						}
					});
					$("#otherpagewx").modal("hide")
				})
				function selectItemByid(id){
					$.ajax({
						type:"post",
						url:data.ip+"repair/selectById",
						async:true,
						data:{
							id:id
						},
						dataType:"json",
						success:function(result){
							vm.item=result

							
						}
					});
				}
				function changeitem(){
							var clientType=$("#clientType").val();
							var priceType=$("#priceType").val();
							
							if(priceType=="自费"){
								$("#mdresult").html("")
								$("#mdresult").attr("disabled","disabled")
								if(clientType=="标准客户"){
								vm.item.hprice=vm.item.normalprice;
							}else if (clientType=="会员客户"){
								vm.item.hprice=vm.item.memberprice;
							}
							}else if(priceType=="免单"){
								$("#mdresult").removeAttr("disabled")
								$("#mdresult").html("")
								var option1=$("<option value='三包'>三包</option>")
								var option2=$("<option value='返修'>返修</option>")
								var option3=$("<option value='设备测试'>设备测试</option>")
								$("#mdresult").append(option1).append(option2).append(option3)
								
								vm.item.hprice="0"
							}else if(priceType=="保修"){
								$("#mdresult").html("")
								$("#mdresult").attr("disabled","disabled")
								vm.item.hprice=vm.item.insuranceprice
							}else if(priceType=="索赔"){
								$("#mdresult").html("")
								$("#mdresult").attr("disabled","disabled")
								vm.item.hprice=vm.item.claimprice
							}else{
								
							}
							
							
							vm.item.count=1;
							
							
							vm.item.priceType=$("#priceType").val();
							vm.item.bzname="";
							vm.item.mdresult=$("#mdresult").val();
							vm.item.qprice=vm.item.normalprice;
							vm.item.gzresult="";
							vm.item.gzinfo="";
							vm.item.gdnumber="";
							vm.item=JSON.parse(JSON.stringify(vm.item))
				}
				$(".itemkeep").click(function(){
					var index=0;
						for (var i=0;i<vm.itemRepair.length;i++) {
<<<<<<< HEAD
								if(vm.itemRepair[i].id==vm.item.id){
=======
								if(vm.itemRepair[i].id==vm.item.yid){
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
									
								}else{
									index++;
								}
							}
						if(index!=vm.itemRepair.length-1){
							vm.itemRepair.push(vm.item)
							vm.item={}
						}
						vm.getsume();
<<<<<<< HEAD
					
=======
						js();
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
					$("#maintenanceItems").modal("hide")
					$("#updatemaintenanceItems").modal("hide")
				
					
				})
				$("#priceType").change(function(){
					changeitem();
			});
			$("#adds").click(function(){
						$.ajax({
						type:"post",
						url:data.ip+"repair/selectAllItem",
						async:true,
						dataType:"json",
						success:function(result){
							vm.mainten=result;
							
						}
					});					
					$("#otherpagewxs").modal("show")		
			})
			$(".otherpagewxs").click(function(){
				var sz=[];
					$("#otherpagewxs tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							sz.push($(this).find("td:eq(1)").html());
						}
					})
			
				for (var i=0;i<sz.length;i++) {
					   	$.ajax({
						type:"post",
						url:data.ip+"repair/selectById",
						async:true,
						data:{
							id:sz[i]
						},
						dataType:"json",
						success:function(result){
							vm.item=result;
							vm.item.count=1
<<<<<<< HEAD
							vm.item.priceType="自费"
							vm.item.qprice=result.normalprice;
=======
							vm.item.pricetype="自费"
							vm.item.qprice=vm.item.normalprice;
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							var clientType=$("#clientType").val();
							if(clientType=="标准客户"){
								vm.item.hprice=vm.item.normalprice;
							}else if (clientType=="会员客户"){
								vm.item.hprice=vm.item.memberprice;
							}
<<<<<<< HEAD
							
=======
							vm.item.hprice=vm.item.normalprice;
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
							
							vm.itemRepair.push(vm.item)
							
							
						}
						})
					
				}
				vm.getsume();	
				$("#otherpagewxs").modal("hide")
			})
			$("#keepewitems").click(function(){
				if(vm.ewitems.isupdate!="1"){
				vm.allewitems.push(vm.ewitems)
				}
				vm.ewitems={}
				$("#appendItems").modal("hide")
			})
			$("#changeewitem").change(function(){
				if($(this).val()=="免单"){
					vm.ewitems.price=0
					$("#ewprice").attr("disabled","false")
				}else{
		
					$("#ewprice").removeAttr("disabled")
				}
			})
			$("#addCommodity").click(function(){
				$("#otherpagexq").modal("show");
						$.ajax({
						type:"post",
						url:data.ip+"repair/selectAllCommodity",
						async:true,
						dataType:"json",
						success:function(result){
							vm.commoditys=result;
							
						}
					});					

				
			})
			$(".otherpagexq").click(function(){
				var sz=[]
					$("#otherpagexq tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							sz.push($(this).find("td:eq(1)").html());
						}
					})				
					for (var i=0;i<sz.length;i++) {
				$.ajax({
					type:"post",
					url:data.ip+"repair/selectGoodById",
					data:{
						id:sz[i]
					},
					dataType:"json",
					success:function(result){
						vm.commodity=result,
						vm.commodity.type=$("#materialRequirement h4").html();
						vm.commodity.count=1
						vm.commodity.priceType="自费"
						vm.commodity.cause=""
						var clientType=$("#clientType").val();
						if(clientType=="标准客户"){
								vm.commodity.qprice=vm.commodity.normalprice;
							}else if (clientType=="会员客户"){
								vm.commodity.qprice=vm.commodity.memberprice;
							}
							vm.commodity.discountsPrice=vm.commodity.qprice
						vm.allCommodity.push(vm.commodity)
					}
				})
					}
					$("#otherpagexq").modal("hide")
			})
			$("#wlpriceType").change(function(){
							var clientType=$("#clientType").val();
							var priceType=$("#wlpriceType").val();
							if(priceType=="自费"){
								$("#cause").html("")
								$("#cause").attr("disabled","disabled")
								if(clientType=="标准客户"){
								vm.commodity.qprice=vm.commodity.normalprice;
							}else if (clientType=="会员客户"){
								vm.commodity.qprice=vm.commodity.memberprice;
							}
							}else if(priceType=="免单"){
								$("#cause").removeAttr("disabled")
								$("#cause").html("")
								var option1=$("<option value='三包'>三包</option>")
								var option2=$("<option value='返修'>返修</option>")
								var option3=$("<option value='设备测试'>设备测试</option>")
								$("#cause").append(option1).append(option2).append(option3)
								
								vm.commodity.qprice="0"
							}else if(priceType=="保修"){
								$("#cause").html("")
								$("#cause").attr("disabled","disabled")
								vm.commodity.qprice=vm.commodity.insuranceprice
							}else if(priceType=="索赔"){
								$("#cause").html("")
								$("#cause").attr("disabled","disabled")
								vm.commodity.qprice=vm.commodity.claimprice
							}else{
								
							}
							vm.commodity.discountsPrice=vm.commodity.qprice
						
				
			}),

			$("#updatepriceType").change(function(){
					var clientType=$("#clientType").val();
							var priceType=$("#updatepriceType").val();
							
							if(priceType=="自费"){
								$("#updatemdresult").html("")
								$("#updatemdresult").attr("disabled","disabled")
								if(clientType=="标准客户"){
								vm.item.hprice=vm.item.normalprice;
							}else if (clientType=="会员客户"){
								vm.item.hprice=vm.item.memberprice;
							}
							}else if(priceType=="免单"){
								$("#updatemdresult").removeAttr("disabled")
								$("#updatemdresult").html("")
								var option1=$("<option value='三包'>三包</option>")
								var option2=$("<option value='返修'>返修</option>")
								var option3=$("<option value='设备测试'>设备测试</option>")
								$("#updatemdresult").append(option1).append(option2).append(option3)
								
								vm.item.hprice="0"
							}else if(priceType=="保修"){
								$("#updatemdresult").html("")
								$("#updatemdresult").attr("disabled","disabled")
								vm.item.hprice=vm.item.insuranceprice
							}else if(priceType=="索赔"){
								$("#updatemdresult").html("")
								$("#updatemdresult").attr("disabled","disabled")
								vm.item.hprice=vm.item.claimprice
							}else{
								
							}
							
							
							vm.item.count=1;
							vm.item.fwman=$("#updatefwman").val();
							vm.item.bzid=$("#updatebz").attr("bzid");
							vm.item.priceType=$("#updatepriceType").val();
							vm.item.bzname="";
							vm.item.mdresult=$("#updatemdresult").val();
							vm.item.qprice=vm.item.normalprice;
							vm.item.gzresult="";
							vm.item.gzinfo="";
							vm.item.gdnumber="";
						
			})
			$("#keppCommodity").click(function(){
				for (var i=0;i<vm.allCommodity.length;i++) {
					if(vm.commodity.commodityno==vm.allCommodity[i].commodityno&&vm.allCommodity[i].type=="需求"){
						vm.allCommodity[i]=vm.commodity
					}
				}
				vm.commodity=JSON.parse(JSON.stringify(vm.commodity))
				$("#materialRequirement").modal("hide")
			})
			$("#wladd").click(function(){
				$("#otherpagell").modal("show");
						$.ajax({
						type:"post",
						url:data.ip+"repair/selectAllCommodity",
						async:true,
						dataType:"json",
						success:function(result){
							vm.commoditys=result;
							
						}
					});					

			})
			$(".otherpagell").click(function(){
				var sz=[]
					$("#otherpagell tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							sz.push($(this).find("td:eq(1)").html());
						}
					})	
					for (var i=0;i<sz.length;i++) {
				$.ajax({
					type:"post",
					url:data.ip+"repair/selectGoodById",
					data:{
						id:sz[i]
					},
					dataType:"json",
					success:function(result){
						vm.commodity=result,
						vm.commodity.type=$("#receiveMaterial h4").html();
						vm.commodity.count=1
						vm.commodity.priceType="自费"
						vm.commodity.cause=""
						var clientType=$("#clientType").val();
						if(clientType=="标准客户"){
								vm.commodity.qprice=vm.commodity.normalprice;
							}else if (clientType=="会员客户"){
								vm.commodity.qprice=vm.commodity.memberprice;
							}
<<<<<<< HEAD
							vm.commodity.discountsPrice=vm.commodity.qprice
=======
						vm.commodity.qprice=vm.commodity.standardprice;
							vm.commodity.discountsPrice=vm.commodity.standardprice
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						vm.allCommodity.push(vm.commodity)
					}
				})
					}
					$("#otherpagell").modal("hide")
			})
			$("#llkeep").click(function(){
				$("#receiveMaterial").modal("hide")
			})
			$("#addRepair").click(function(){
				js();
				console.log(111)
				var successid=1;
				var cs=1;
				vm.repair.befor=vm.carInfo.ordertime;
				vm.repair.number=$(".number").html();
<<<<<<< HEAD
				vm.repair.carinfoid=vm.carInfo.id;
				vm.repair.ordertime=vm.carInfo.jjdate
=======
				vm.repair.carinfoId=vm.carInfo.id;
				vm.repair.ordertime=vm.carInfo.jjdate;
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
				vm.repair.price=vm.jsInfo.hprice;
				vm.repair=JSON.parse(JSON.stringify(vm.repair))
				if(vm.itemRepair.length==0){
					vm.repair.status="接车"
				}else{
					vm.repair.status="进行中"
					
				}
				$.ajax({
					type:"post",
					url:data.ip+"repair/addRepair",
					async:false,
					data:JSON.stringify(vm.repair),
	
					dataType:"json",
					contentType:"application/json;charset=utf-8",
					success:function(result){
					
						
					}
				});
				
				if(vm.allCommodity.length!=0){
					cs++;
					successid++;
					for (var i=0;i<vm.allCommodity.length;i++) {
<<<<<<< HEAD
						vm.allCommodity[i].goodid=vm.allCommodity[i].commodityno
=======
						vm.allCommodity[i].goodid=vm.allCommodity[i].gooddataid
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
								vm.allCommodity[i].wjid=vm.repair.number
						vm.allCommodity[i].pricetype=vm.allCommodity[i].priceType
						vm.allCommodity[i].discountsprice=vm.allCommodity[i].discountsPrice
						}
					$.ajax({
						type:"post",
						url:data.ip+"repair/addGetgood",
						async:false,
						data:JSON.stringify(vm.allCommodity)
						,
							dataType:"json",
							contentType:"application/json;charset=utf-8",
						success:function(result){
								
							}
						});
						}
	
			
				if(vm.itemRepair.length!=0){
					cs++;
					successid++;
					for (var i=0;i<vm.itemRepair.length;i++) {
<<<<<<< HEAD
						vm.itemRepair[i].itemid=vm.itemRepair[i].id
=======
						vm.itemRepair[i].itemid=vm.itemRepair[i].wid
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
						vm.$delete(vm.itemRepair[i],"id")
						vm.itemRepair[i].teamid=vm.itemRepair[i].bzid
						vm.itemRepair[i].fprice=vm.itemRepair[i].hprice	
						vm.itemRepair[i].wjid=vm.repair.number
<<<<<<< HEAD
						vm.itemRepair[i].pricetype=vm.itemRepair[i].priceType	
=======
						vm.itemRepair[i].priceType=vm.itemRepair[i].priceType
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
					}
				$.ajax({
					type:"post",
					url:data.ip+"repair/addItemRepair",
					async:false,
					data:JSON.stringify(vm.itemRepair)
					,
					dataType:"json",
					contentType:"application/json;charset=utf-8",
					success:function(result){
						
					}
				});
				}
			
				if(vm.allewitems.length!=0){
					cs++;
					successid++;
					for (var i=0;i<vm.allewitems.length;i++) {
						vm.allewitems[i].repairid=vm.repair.number
						vm.allewitems[i].pricetype=vm.allewitems[i].priceType

					}
				$.ajax({
					type:"post",
					url:data.ip+"repair/addEwitem",
					async:false,
					data:JSON.stringify(vm.allewitems)
					,
					dataType:"json",
					contentType:"application/json;charset=utf-8",
					success:function(result){
						
					}
				});
				}
				console.log(cs+"=="+successid)
				
		if(cs==successid){
	window.location.href="maintain.html"
	}
			})
			$(".chosebz").click(function(){
					$.ajax({
					type:"post",
<<<<<<< HEAD
					url:data.ip+"leg/selectAll",
=======
					url:data.ip+"repair/selectAll",
>>>>>>> a14599b2f8891433c7efcb0fb0a0d3749fd98e6f
					dataType:"json",
					success:function(res){
						vm.artisan=res
					}
				})
					$("#otherpagebz").modal("show")
			})
			$(".otherpagebz").click(function(){
					$("#otherpagebz tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							vm.item.bzid=$(this).find("td:eq(1)").html();
							vm.item.bzname=$(this).find("td:eq(2)").html();
						}
					})
					$("#otherpagebz").modal("hide")
			})
			$(".otherpage").click(function(){
				var staffno=''
				var staffname=''
						$("#otherpage tr:not(:first)").each(function(){
						if($(this).find("td:first input")[0].checked==true){
							 staffno=$(this).find("td:eq(1)").html();
							 staffname=$(this).find("td:eq(2)").html();
						}
					})

						var op=$("<option selected='selected' value='"+staffno+"' >"+staffname+"</option>")
						$("#fwman").append(op)
						vm.repair.staffname=staffname
						vm.repair.staffno=staffno;
						$("#otherpage").modal("hide")
			})
			
			});
			
		</script>
	</body>

</html>